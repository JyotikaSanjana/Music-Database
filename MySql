-- Create database
CREATE DATABASE IF NOT EXISTS music_db;

-- Use the database
USE music_db;

-- Create tables

-- Table for artists
CREATE TABLE IF NOT EXISTS artists (
    artist_id INT AUTO_INCREMENT PRIMARY KEY,
    artist_name VARCHAR(100) NOT NULL,
    country VARCHAR(100),
    genre VARCHAR(100)
);

-- Table for albums
CREATE TABLE IF NOT EXISTS albums (
    album_id INT AUTO_INCREMENT PRIMARY KEY,
    album_name VARCHAR(100) NOT NULL,
    release_year INT,
    artist_id INT,
    FOREIGN KEY (artist_id) REFERENCES artists(artist_id)
);

-- Table for tracks
CREATE TABLE IF NOT EXISTS tracks (
    track_id INT AUTO_INCREMENT PRIMARY KEY,
    track_name VARCHAR(100) NOT NULL,
    duration TIME,
    album_id INT,
    FOREIGN KEY (album_id) REFERENCES albums(album_id)
);

-- Table for playlists
CREATE TABLE IF NOT EXISTS playlists (
    playlist_id INT AUTO_INCREMENT PRIMARY KEY,
    playlist_name VARCHAR(100) NOT NULL
);

-- Table for playlist_tracks (many-to-many relationship between playlists and tracks)
CREATE TABLE IF NOT EXISTS playlist_tracks (
    playlist_id INT,
    track_id INT,
    FOREIGN KEY (playlist_id) REFERENCES playlists(playlist_id),
    FOREIGN KEY (track_id) REFERENCES tracks(track_id),
    PRIMARY KEY (playlist_id, track_id)
);
INSERT INTO artists (artist_name, country, genre) VALUES ('John Doe', 'USA', 'Rock');
INSERT INTO albums (album_name, release_year, artist_id) VALUES ('Greatest Hits', 2020, 1);
INSERT INTO tracks (track_name, duration, album_id) VALUES ('Song 1', '00:03:30', 1);
INSERT INTO playlists (playlist_name) VALUES ('My Favorites');
INSERT INTO playlist_tracks (playlist_id, track_id) VALUES (1, 1);
INSERT INTO artists (artist_name, country, genre) VALUES ('Justin Timberlake', 'USA', 'Rhythm');
